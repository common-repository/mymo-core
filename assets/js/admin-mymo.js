function Refresh_Image(e,t){var a={action:"mymo_get_image",id:e};jQuery.get(ajaxurl,a,function(e){!0===e.success&&jQuery(t).attr("src",e.data.image)})}function replace_template(e,t){return e.replace(/{(\w*)}/g,function(e,a){return t.hasOwnProperty(a)?t[a]:""})}jQuery(document).ready(function(){function show_message(e,t){"error"===t?jQuery("div.status").html('<div class="notice notice-error is-dismissible">'+e+"</div>"):jQuery("div.status").html('<div class="notice notice-success is-dismissible">'+e+"</div>")}jQuery(document).on("submit",".mymo-ajax",function(event){if(event.isDefaultPrevented())return!1;event.preventDefault();var form=jQuery(this).closest("form"),formData=new FormData(form[0]),btnsubmit=form.find("button[type=submit]"),submitSuccess=form.data("success");btnsubmit.prop("disabled",!0),jQuery.ajax({type:form.attr("method"),url:form.attr("action"),dataType:"json",data:formData,cache:!1,contentType:!1,processData:!1}).done(function(data){return data.message&&show_message(data.message,data.status),data.redirect?(window.location=data.redirect,!1):(btnsubmit.prop("disabled",!1),"error"!==data.status&&(submitSuccess&&eval(submitSuccess)(form),!1))}).fail(function(e){return btnsubmit.prop("disabled",!1),show_message("Error","error"),!1})}),jQuery(document).on("click",".mymo-select-media",function(e){var t;e.preventDefault();var a=jQuery(this).data("preview"),o=jQuery(this).data("output");t&&t.open(),(t=wp.media({title:"Select Media",multiple:!1})).on("close",function(){var e=t.state().get("selection"),n=new Array,i=0;e.each(function(e){n[i]=e.id,i++});var r=n.join(",");jQuery(o).val(r),Refresh_Image(r,a)}),t.on("open",function(){var e=t.state().get("selection"),a=jQuery(o).val();a&&(a=a.split(",")).forEach(function(t){var a=wp.media.attachment(t);a.fetch(),e.add(a?[a]:[])})}),t.open()}),jQuery(document).on("click",".mymo-select-media-url",function(e){var t;e.preventDefault();var a=jQuery(this).data("output");t&&t.open(),(t=wp.media({title:"Select Media",multiple:!1})).on("close",function(){var e=t.state().get("selection"),o=new Array,n=0;e.each(function(e){o[n]=e.id,n++});var i={action:"mymo_get_image",id:o.join(",")};jQuery.get(ajaxurl,i,function(e){!0===e.success&&jQuery(a).val(e.data.image)})}),t.on("open",function(){var e=t.state().get("selection"),o=jQuery(a).val();o&&(o=o.split(",")).forEach(function(t){var a=wp.media.attachment(t);a.fetch(),e.add(a?[a]:[])})}),t.open()}),jQuery("#tv_series").on("change",function(){1==jQuery(this).val()?jQuery(".box-tv_series-fields").show("slow"):jQuery(".box-tv_series-fields").hide("slow")}),jQuery(".add-banner-slider").on("click",function(){let e=document.getElementById("banner-template").innerHTML;e=replace_template(e,{id:jQuery("#banner-list .banner-item").length+1}),jQuery("#banner-list").append(e)}),jQuery(".mymo-select-taxonomy").on("change",function(){let e=jQuery(this).val();e||jQuery(this).closest(".mymo-widget").find(".mymo-box").hide("slow").find(".object-val").prop("disabled",!0),"genre"==e&&(jQuery(this).closest(".mymo-widget").find(".mymo-box").hide("slow").find(".object-val").prop("disabled",!0),jQuery(this).closest(".mymo-widget").find(".mymo-box-genres").show("slow").find(".object-val").prop("disabled",!1)),"country"==e&&(jQuery(this).closest(".mymo-widget").find(".mymo-box").hide("slow").find(".object-val").prop("disabled",!0),jQuery(this).closest(".mymo-widget").find(".mymo-box-countries").show("slow").find(".object-val").prop("disabled",!1))})}),jQuery(document).ready(function(){jQuery(document).on("click",".mymo-wrap .tab-content-link",function(e){let t=jQuery(this).data("tab");jQuery(".tab-content-link").removeClass("active"),jQuery(this).addClass("active"),jQuery(".mymo-wrap .tab-content").hide(),jQuery(".mymo-wrap #tab-"+t).show()})});
